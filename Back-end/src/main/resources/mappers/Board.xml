<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper 	
		 PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.web.curation.dao.BoardDao">
	<!-- 게시물 좋아요 클릭 -->
	<insert id="goodClick">
		insert into Good(b_type, b_idx, u_email)
		value(#{b_type}, #{b_idx}, #{u_email});
	</insert>
	
	<!-- 게시물 좋아요 클릭취소 -->
	<delete id="goodClickCancel">
		delete	from Good
		where 	b_type = #{b_type} AND
				b_idx = #{b_idx} AND 
				u_email = #{u_email};
	</delete>

	<!-- 좋아요 수 출력  -->
	<select id="goodCount" parameterType="int" resultType="int">
		SELECT 	count(u_email)
		FROM 	Board b left outer join Good g
				ON b.b_type =g.b_type and b.b_idx = g.b_idx
		where	b.b_type = #{b_type} and
				b.b_idx	 = #{b_idx};
	</select>
 	
	
 </mapper>
        